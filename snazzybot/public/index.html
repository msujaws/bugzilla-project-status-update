<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>SnazzyBot ‚Äî Bugzilla Auto-Summarization</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="/logo.png" sizes="any" />
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <svg
      xmlns="http://www.w3.org/2000/svg"
      style="position: absolute; width: 0; height: 0; overflow: hidden"
      aria-hidden="true"
      focusable="false"
    >
      <symbol id="icon-copy" viewBox="0 0 24 24">
        <g
          fill="none"
          stroke="currentColor"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="1.8"
        >
          <rect x="9" y="9" width="11" height="11" rx="2" ry="2"></rect>
          <path
            d="M6 15H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v1"
          ></path>
        </g>
      </symbol>
      <symbol id="icon-download" viewBox="0 0 24 24">
        <g
          fill="none"
          stroke="currentColor"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="1.8"
        >
          <path d="M12 4v9"></path>
          <path d="M8 11l4 4 4-4"></path>
          <path d="M4 20h16"></path>
        </g>
      </symbol>
    </svg>
    <div class="wrap">
      <header>
        <img src="/logo.png" alt="SnazzyBot logo" />
        <div>
          <h1>SnazzyBot <span class="badge">AUTO-SUMMARIZATION</span></h1>
          <p>
            Weekly, user-impact‚Äìfocused status updates from Bugzilla. Just pick
            your sources and SnazzyBot does the rest.
          </p>
        </div>
      </header>

      <div class="grid">
        <!-- Left: Inputs -->
        <section class="card">
          <p class="kicker">Filters</p>

          <div class="row-2">
            <div>
              <label for="components"
                >Components
                <span class="hint"
                  >one per line: <code>Product:Component</code></span
                ></label
              >
              <textarea
                id="components"
                rows="6"
                placeholder="Firefox:General&#10;Fenix:Toolbar"
              ></textarea>
            </div>
            <div>
              <label for="whiteboards"
                >Whiteboard tags <span class="hint">one per line</span></label
              >
              <textarea
                id="whiteboards"
                rows="6"
                placeholder="[fx-vpn]&#10;[fidefe-sidebar]"
              ></textarea>
            </div>
          </div>

          <div style="margin-top: 14px">
            <label for="metabugs"
              >Metabug IDs
              <span class="hint">comma or newline separated</span></label
            >
            <textarea
              id="metabugs"
              rows="3"
              placeholder="1882882, 1993031"
            ></textarea>
          </div>

          <div class="row" style="margin-top: 14px">
            <div>
              <label for="days">Days lookback</label>
              <input id="days" type="number" min="1" value="7" />
            </div>
            <div>
              <label for="voice">Voice</label>
              <select id="voice">
                <option value="normal" selected>Normal</option>
                <option value="pirate">Pirate üè¥‚Äç‚ò†Ô∏è</option>
                <option value="snazzy-robot">Snazzy Robot ü§ñ</option>
              </select>
            </div>
            <div>
              <label for="audience">Audience</label>
              <select id="audience">
                <option value="technical" selected>Technical</option>
                <option value="product">Product</option>
                <option value="leadership">Leadership</option>
              </select>
            </div>
            <div>
              <label for="debug">Debug</label>
              <select id="debug">
                <option value="false">No</option>
                <option value="true">Yes</option>
              </select>
            </div>
            <div>
              <label for="cache">Cache (TTL 1d)</label>
              <select id="cache">
                <option value="true" selected>Yes</option>
                <option value="false">No</option>
              </select>
            </div>
            <div>
              <label for="patch-context">Patch Context</label>
              <select id="patch-context">
                <option value="include" selected>Include</option>
                <option value="omit">Skip</option>
              </select>
            </div>
          </div>

          <div class="actions">
            <button id="run">Run SnazzyBot</button>
          </div>

          <div class="status">
            <div class="dot" aria-hidden="true"></div>
            <div id="spin" class="pill" style="display: none">‚è≥ Working‚Ä¶</div>
            <div id="quick-status" class="pill" style="display: none"></div>
          </div>

          <div id="phases"></div>

          <details id="logwrap">
            <summary>Run log</summary>
            <div id="log" class="log" role="log" aria-live="polite"></div>
          </details>
        </section>

        <!-- Right: Result -->
        <section class="card">
          <p class="kicker">Result</p>
          <div class="actions">
            <button
              id="copy"
              class="secondary icon-btn"
              aria-label="Copy .md"
              disabled
            >
              <svg
                aria-hidden="true"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <use href="#icon-copy"></use>
              </svg>
              <span aria-hidden="true">.md</span>
            </button>
            <button
              id="dl-md"
              class="secondary icon-btn"
              aria-label="Download .md"
              disabled
            >
              <svg
                aria-hidden="true"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <use href="#icon-download"></use>
              </svg>
              <span aria-hidden="true">.md</span>
            </button>
            <button
              id="copy-rendered"
              class="secondary icon-btn"
              aria-label="Copy rendered result"
              disabled
            >
              <svg
                aria-hidden="true"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <use href="#icon-copy"></use>
              </svg>
              <span aria-hidden="true">Rendered</span>
            </button>
            <button
              id="dl-html"
              class="secondary icon-btn"
              aria-label="Download .html"
              disabled
            >
              <svg
                aria-hidden="true"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <use href="#icon-download"></use>
              </svg>
              <span aria-hidden="true">.html</span>
            </button>
          </div>
          <!-- keep a hidden textual backup for accessibility / copy as markdown -->
          <div
            id="out"
            class="out"
            aria-live="polite"
            style="display: none"
          ></div>

          <!-- rendered output -->
          <iframe
            id="resultFrame"
            title="SnazzyBot result"
            style="
              width: 100%;
              height: 320px;
              border: 1px solid rgba(255, 255, 255, 0.12);
              border-radius: 12px;
              background: #0f1633;
            "
          ></iframe>
        </section>
      </div>

      <p class="footer">
        (<a href="https://github.com/msujaws/bugzilla-project-status-update"
          >source</a
        >) ‚ú® created by :jaws ‚Äî logo contributed by :jhirsch - name contributed
        by :sclements
      </p>
    </div>
    <canvas id="fx-layer" aria-hidden="true"></canvas>
    <script type="module" src="/app.js"></script>
  </body>
</html>
